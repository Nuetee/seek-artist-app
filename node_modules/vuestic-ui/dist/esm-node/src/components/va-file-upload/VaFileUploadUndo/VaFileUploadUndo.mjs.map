{"version":3,"file":"VaFileUploadUndo.mjs","sources":["../../../../../../src/components/va-file-upload/VaFileUploadUndo/VaFileUploadUndo.vue"],"sourcesContent":["<template>\n  <va-progress-bar\n    :model-value=\"progress\"\n    :rounded=\"false\"\n    class=\"va-file-upload-undo-progress-bar\"\n  />\n  <div\n    class=\"va-file-upload-undo\"\n    :class=\"computedClasses\"\n  >\n    <span class=\"va-file-upload-undo__text\">{{ deletedFileMessage }}</span>\n    <va-button\n      class=\"va-file-upload-undo__button\"\n      size=\"small\"\n      outline\n      @click=\"$emit('recover')\"\n    >\n      {{ undoButtonText }}\n    </va-button>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, computed, inject, ref, onMounted } from 'vue'\n\nimport { useBem } from '../../../composables'\nimport { VaFileUploadKey } from '../types'\n\nimport { VaButton, VaProgressBar } from '../../index'\n\nexport default defineComponent({\n  name: 'VaFileUploadUndo',\n\n  components: {\n    VaProgressBar,\n    VaButton,\n  },\n\n  props: {\n    vertical: { type: Boolean, default: false },\n  },\n\n  emits: ['recover'],\n\n  setup: (props) => {\n    const progress = ref(100)\n    const {\n      undoDuration,\n      deletedFileMessage,\n      undoButtonText,\n    } = inject(VaFileUploadKey, {\n      undoDuration: ref(3000),\n      deletedFileMessage: ref('File was successfully deleted'),\n      undoButtonText: ref('Undo'),\n    })\n\n    const computedClasses = useBem('va-file-upload-undo', () => ({\n      vertical: props.vertical,\n    }))\n\n    const undoDurationStyle = computed(() => `${undoDuration.value}ms`)\n\n    onMounted(() => {\n      const timer = setTimeout(() => {\n        progress.value = 0\n        clearTimeout(timer)\n      }, 0)\n    })\n\n    return {\n      progress,\n      undoDuration,\n      undoButtonText,\n      computedClasses,\n      undoDurationStyle,\n      deletedFileMessage,\n    }\n  },\n})\n</script>\n\n<style lang=\"scss\">\n@import 'variables';\n\n.va-file-upload-undo-progress-bar {\n  position: absolute;\n  top: 0;\n  left: 0;\n\n  --va-progress-bar-transition: width v-bind(undoDurationStyle) linear;\n}\n\n.va-file-upload-undo {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  flex-wrap: wrap;\n\n  &__button {\n    line-height: var(--va-file-upload-undo-button-line-height);\n    margin-left: var(--va-file-upload-undo-margin-left);\n    margin-top: var(--va-file-upload-undo-button-margin-top);\n    margin-bottom: var(--va-file-upload-undo-button-margin-bottom);\n  }\n\n  &--vertical {\n    justify-content: center;\n    align-items: center;\n    align-content: center;\n    padding: var(--va-file-upload-undo-padding);\n\n    .va-file-upload-undo__text {\n      margin: 1rem 0 0;\n      text-align: center;\n    }\n\n    .va-file-upload-undo__button {\n      margin: 1rem 0 0;\n    }\n  }\n}\n</style>\n"],"names":["__default__","defineComponent","name","components","VaProgressBar","VaButton","props","vertical","type","Boolean","default","emits","setup","progress","ref","undoDuration","deletedFileMessage","undoButtonText","inject","VaFileUploadKey","computedClasses","useBem","undoDurationStyle","computed","value","onMounted","timer","setTimeout","clearTimeout","_hoisted_1","class","_createVNode","_component_va_progress_bar","_ctx","rounded","_createElementVNode","_normalizeClass","_toDisplayString","_component_va_button","size","outline","onClick","_cache","$emit","_createTextVNode"],"mappings":"goFA8BA,MAAKA,EAAeC,EAAW,CAC7BC,KAAM,mBAENC,WAAY,CACVC,cAAAA,EACAC,SAAAA,GAGFC,MAAO,CACLC,SAAU,CAAEC,KAAMC,QAASC,SAAS,IAGtCC,MAAO,CAAC,WAERC,MAAQN,IACA,MAAAO,EAAWC,EAAI,MACfC,aACJA,EAAAC,mBACAA,EAAAC,eACAA,GACEC,EAAOC,EAAiB,CAC1BJ,aAAcD,EAAI,KAClBE,mBAAoBF,EAAI,iCACxBG,eAAgBH,EAAI,UAGhBM,EAAkBC,EAAO,uBAAuB,KAAO,CAC3Dd,SAAUD,EAAMC,aAGZe,EAAoBC,GAAS,IAAM,GAAGR,EAAaS,YASlD,OAPPC,GAAU,KACF,MAAAC,EAAQC,YAAW,KACvBd,EAASW,MAAQ,EACjBI,aAAaF,KACZ,MAGE,CACLb,SAAAA,EACAE,aAAAA,EACAE,eAAAA,EACAG,gBAAAA,EACAE,kBAAAA,EACAN,mBAAAA,yJAjEIa,EAAA,CAAAC,MAAM,uJATdC,EAIEC,EAAA,CAHC,cAAaC,EAAApB,SACbqB,SAAS,EACVJ,MAAM,oCAAA,KAAA,EAAA,CAAA,gBAERK,EAaM,MAAA,CAZJL,MAAKM,EAAC,CAAA,sBACEH,EAAeb,mBAAA,CAEvBe,EAAuE,OAAvEN,EAAuEQ,EAA5BJ,EAAkBjB,oBAAA,GAC7De,EAOYO,EAAA,CANVR,MAAM,8BACNS,KAAK,QACLC,QAAA,GACCC,QAAKC,eAAET,EAAKU,MAAA,aAAA,YAEb,IAAoB,CAAAC,EAAAP,EAAjBJ,EAAchB,gBAAA"}