var e=Object.defineProperty,o=Object.defineProperties,t=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,__defNormalProp=(o,t,a)=>t in o?e(o,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):o[t]=a;import{defineComponent as n,shallowRef as s,computed as c,toRef as i,openBlock as d,createElementBlock as u,normalizeClass as p,createElementVNode as m,renderSlot as v,createBlock as f,Teleport as b,withModifiers as h,createCommentVNode as y}from"vue";import{p as C}from"../../../vendor.mjs";import{g as k}from"../../services/utils.mjs";import{u as O}from"../../composables/useBem.mjs";import{u as g}from"../../composables/useClickOutside.mjs";import"colortranslator";import{u as j}from"../../composables/useDebounce.mjs";import{p as w,u as A}from"../../composables/usePopover.mjs";import{a as M,u as B,b as S}from"../../composables/useStateful.mjs";import{_ as E}from"../../../plugin-vue_export-helper.mjs";const _=n({name:"VaDropdown",props:(P=((e,o)=>{for(var t in o||(o={}))r.call(o,t)&&__defNormalProp(e,t,o[t]);if(a)for(var t of a(o))l.call(o,t)&&__defNormalProp(e,t,o[t]);return e})({},M),L={stateful:{default:!0},modelValue:{type:Boolean,default:!1},disabled:{type:Boolean},readonly:{type:Boolean},anchorSelector:{type:String,default:""},attachElement:{type:String,default:"body"},disableAttachment:{type:Boolean,default:!1},keepAnchorWidth:{type:Boolean,default:!1},isContentHoverable:{type:Boolean,default:!0},closeOnContentClick:{type:Boolean,default:!0},closeOnClickOutside:{type:Boolean,default:!0},closeOnAnchorClick:{type:Boolean,default:!0},hoverOverTimeout:{type:Number,default:30},hoverOutTimeout:{type:Number,default:200},offset:{type:[Array,Number],default:0},trigger:{type:String,default:"click",validator:e=>["click","hover","none"].includes(e)},placement:{type:String,default:"bottom",validator:e=>w.includes(e)}},o(P,t(L))),emits:[...B,"anchor-click","dropdown-content-click","click-outside"],setup(e,{emit:o}){const t=s(),a=s(),{valueComputed:r}=S(e,o),l=c({get:()=>r.value&&!e.disabled&&!e.readonly,set(e){r.value=e}}),n=O("va-dropdown",(()=>C(e,["disabled"]))),d=c((()=>t.value&&e.anchorSelector&&t.value.querySelector(e.anchorSelector)||t.value));A(d,a,c((()=>({placement:e.placement,keepAnchorWidth:e.keepAnchorWidth,offset:e.offset,stickToEdges:!0,autoPlacement:!0,root:e.attachElement}))));const{debounced:u,cancel:p}=j(i(e,"hoverOverTimeout")),{debounced:m,cancel:v}=j(i(e,"hoverOutTimeout")),emitAndClose=(e,t)=>{o(e),t&&(l.value=!1)};g([t,a],(()=>{e.closeOnClickOutside&&l.value&&emitAndClose("click-outside",e.closeOnClickOutside)}));const f=c(k);return{valueComputed:l,anchorRef:t,contentRef:a,computedClass:n,emitAndClose:emitAndClose,onAnchorClick:()=>{"click"!==e.trigger||e.disabled||(l.value?emitAndClose("anchor-click",e.closeOnAnchorClick):(l.value=!0,o("anchor-click")))},onMouseEnter:()=>{"hover"!==e.trigger||e.disabled||(u((()=>{l.value=!0})),v())},onMouseLeave:()=>{"hover"!==e.trigger||e.disabled||(e.isContentHoverable?m((()=>{l.value=!1})):l.value=!1,p())},idComputed:f}}});var P,L;const T=["aria-disabled","aria-expanded","aria-controls"],x=["id"];var R=E(_,[["render",function _sfc_render(e,o,t,a,r,l){return d(),u("div",{class:p(["va-dropdown",e.computedClass])},[m("div",{ref:"anchorRef",class:"va-dropdown__anchor",role:"button","aria-label":"toggle dropdown","aria-disabled":e.$props.disabled,"aria-expanded":!!e.valueComputed,"aria-controls":e.idComputed,onClick:o[0]||(o[0]=(...o)=>e.onAnchorClick&&e.onAnchorClick(...o)),onMouseenter:o[1]||(o[1]=(...o)=>e.onMouseEnter&&e.onMouseEnter(...o)),onMouseleave:o[2]||(o[2]=(...o)=>e.onMouseLeave&&e.onMouseLeave(...o))},[v(e.$slots,"anchor")],40,T),e.valueComputed?(d(),f(b,{key:0,to:e.attachElement,disabled:e.disableAttachment},[m("div",{ref:"contentRef",class:"va-dropdown__content-wrapper",id:e.idComputed,onMouseover:o[3]||(o[3]=o=>e.$props.isContentHoverable&&e.onMouseEnter()),onMouseout:o[4]||(o[4]=(...o)=>e.onMouseLeave&&e.onMouseLeave(...o)),onClick:o[5]||(o[5]=h((o=>e.emitAndClose("dropdown-content-click",e.closeOnContentClick)),["stop"]))},[v(e.$slots,"default")],40,x)],8,["to","disabled"])):y("",!0)],2)}]]);export{R as _};
//# sourceMappingURL=VaDropdown.mjs.map

 import './VaDropdown.css'