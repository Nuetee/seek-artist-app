import{ref as e,computed as l,watch as r}from"vue";function useSortable(t,u,n,a){const o=e(""),s=l({get:()=>void 0===n.sortBy?o.value:n.sortBy,set(e){void 0===n.sortBy&&(o.value=e),a("update:sortBy",e)}}),i=e(null),v=l({get:()=>void 0===n.sortingOrder?i.value:n.sortingOrder,set(e){void 0===n.sortingOrder&&(i.value=e),a("update:sortingOrder",e)}}),c=l((()=>{if(u.value.length<=1)return u.value;const e=t.value.find((e=>e.name===s.value));if(!e||!e.sortable)return u.value;const l=t.value.indexOf(e);return[...u.value].sort(((r,t)=>{const u=r.cells[l].value,n=t.cells[l].value,a=r.cells[l].source,o=t.cells[l].source;if(null===v.value)return r.initialIndex-t.initialIndex;return("desc"===v.value?-1:1)*("function"==typeof e.sortingFn?e.sortingFn(a,o):u.localeCompare(n))}))}));return r(c,(()=>{a("sorted",{sortBy:s.value,sortingOrder:v.value,items:c.value.map((e=>e.source)),itemsIndexes:c.value.map((e=>e.initialIndex))})})),{sortBySync:s,sortingOrderSync:v,toggleSorting:function toggleSorting(e){e.name===s.value?null===v.value?v.value="asc":"asc"===v.value?v.value="desc":v.value=null:(s.value=e.name,v.value="asc")},sortedRows:c}}export{useSortable as u};
//# sourceMappingURL=useSortable.mjs.map
