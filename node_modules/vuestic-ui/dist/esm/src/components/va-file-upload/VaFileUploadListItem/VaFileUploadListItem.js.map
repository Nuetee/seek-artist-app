{"version":3,"file":"VaFileUploadListItem.js","sources":["../../../../../../src/components/va-file-upload/VaFileUploadListItem/VaFileUploadListItem.vue"],"sourcesContent":["<template>\n  <va-list-item\n    class=\"va-file-upload-list-item\"\n    :class=\"computedClasses\"\n  >\n    <va-list-item-section v-if=\"removed && undo\">\n      <va-file-upload-undo @recover=\"recoverFile\" />\n    </va-list-item-section>\n    <va-list-item-section v-else>\n      <div class=\"va-file-upload-list-item__content\">\n        <div v-if=\"file && file.name\" class=\"va-file-upload-list-item__name\">\n          {{ file && file.name }}\n        </div>\n        <div class=\"va-file-upload-list-item__size\">\n          {{ file && file.size }}\n        </div>\n        <va-icon\n          class=\"va-file-upload-list-item__delete\"\n          name=\"clear\"\n          role=\"button\"\n          aria-hidden=\"false\"\n          aria-label=\"remove file\"\n          tabindex=\"0\"\n          color=\"danger\"\n          @click.stop=\"removeFile\"\n          @keydown.enter.stop=\"removeFile\"\n          @keydown.space.stop=\"removeFile\"\n        />\n      </div>\n    </va-list-item-section>\n  </va-list-item>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, PropType, ref } from 'vue'\n\nimport { useBem } from '../../../composables'\nimport { ConvertedFile } from '../types'\n\nimport { VaListItem, VaListItemSection, VaIcon } from '../../index'\nimport { VaFileUploadUndo } from '../VaFileUploadUndo'\n\nexport default defineComponent({\n  name: 'VaFileUploadListItem',\n  components: {\n    VaListItem,\n    VaListItemSection,\n    VaIcon,\n    VaFileUploadUndo,\n  },\n  emits: ['remove'],\n  props: {\n    file: { type: Object as PropType<ConvertedFile | null>, default: null },\n    color: { type: String, default: 'success' },\n    undo: { type: Boolean, default: false },\n    undoDuration: { type: Number, default: 3000 },\n  },\n  setup (props, { emit }) {\n    const removed = ref(false)\n\n    const removeFile = () => {\n      if (props.undo) {\n        removed.value = true\n\n        setTimeout(() => {\n          if (removed.value) {\n            emit('remove')\n            removed.value = false\n          }\n        }, props.undoDuration)\n      } else {\n        emit('remove')\n        removed.value = false\n      }\n    }\n\n    const recoverFile = () => { removed.value = false }\n\n    const computedClasses = useBem('va-file-upload-list-item', () => ({\n      undo: removed.value,\n    }))\n\n    return {\n      removed,\n      computedClasses,\n\n      removeFile,\n      recoverFile,\n    }\n  },\n})\n</script>\n\n<style lang='scss'>\n@import \"../../../styles/resources\";\n@import \"variables\";\n\n.va-file-upload-list-item {\n  background-color: var(--va-file-upload-list-item-background-color);\n  box-shadow: var(--va-file-upload-list-item, var(--va-block-box-shadow));\n  border-radius: var(--va-file-upload-list-item-border-radius, var(--va-block-border-radius));\n  position: relative;\n  line-height: 1.5rem;\n  padding: 1.125rem 0.5rem 1rem 1rem;\n  max-width: 100%;\n  width: 100%;\n\n  & + & {\n    margin-top: 0.5rem;\n  }\n\n  .va-list-item__inner {\n    padding: 0;\n    overflow: hidden;\n  }\n\n  &__content {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n  }\n\n  &__name {\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    flex-basis: 60%;\n    overflow: hidden;\n  }\n\n  &__size {\n    color: var(--va-file-upload-list-item-size-text-color);\n  }\n\n  &__delete {\n    font-size: 1.5rem;\n    cursor: pointer;\n\n    &:focus {\n      @include focus-outline;\n    }\n  }\n\n  &--undo {\n    overflow: hidden;\n    position: relative;\n\n    .va-list-item-section {\n      padding: 0;\n    }\n  }\n}\n</style>\n"],"names":["_createBlock","_normalizeClass","_withCtx","_createVNode","_createElementVNode","_openBlock","_createElementBlock","_toDisplayString","_createCommentVNode","_withModifiers","_withKeys"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0CA,MAAK,YAAa,gBAAa;AAAA,EAC7B,MAAM;AAAA,EACN,YAAY;AAAA,IACV;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF;AAAA,EACA,OAAO,CAAC,QAAQ;AAAA,EAChB,OAAO;AAAA,IACL,MAAM,EAAE,MAAM,QAA0C,SAAS,KAAK;AAAA,IACtE,OAAO,EAAE,MAAM,QAAQ,SAAS,UAAU;AAAA,IAC1C,MAAM,EAAE,MAAM,SAAS,SAAS,MAAM;AAAA,IACtC,cAAc,EAAE,MAAM,QAAQ,SAAS,IAAK;AAAA,EAC9C;AAAA,EACA,MAAO,OAAO,EAAE,QAAQ;AAChB,UAAA,UAAU,IAAI,KAAK;AAEzB,UAAM,aAAa,MAAM;AACvB,UAAI,MAAM,MAAM;AACd,gBAAQ,QAAQ;AAEhB,mBAAW,MAAM;AACf,cAAI,QAAQ,OAAO;AACjB,iBAAK,QAAQ;AACb,oBAAQ,QAAQ;AAAA,UAClB;AAAA,QAAA,GACC,MAAM,YAAY;AAAA,MAAA,OAChB;AACL,aAAK,QAAQ;AACb,gBAAQ,QAAQ;AAAA,MAClB;AAAA,IAAA;AAGF,UAAM,cAAc,MAAM;AAAE,cAAQ,QAAQ;AAAA,IAAA;AAEtC,UAAA,kBAAkB,OAAO,4BAA4B,MAAO;AAAA,MAChE,MAAM,QAAQ;AAAA,IACd,EAAA;AAEK,WAAA;AAAA,MACL;AAAA,MACA;AAAA,MAEA;AAAA,MACA;AAAA,IAAA;AAAA,EAEJ;AACF,CAAC;AAjFU,MAAA,aAAA,EAAA,OAAM;;;EACqB,OAAM;;AAG/B,MAAA,aAAA,EAAA,OAAM;;;;;;sBAZjBA,YA6Be,yBAAA;AAAA,IA5Bb,OAAKC,eAAC,CAAA,4BACE,KAAe,eAAA,CAAA;AAAA,EAAA,GAAA;AAAA,qBAEvB,MAEuB;AAAA,MAFK,KAAA,WAAW,0BAAvCD,YAEuB,iCAAA,EAAA,KAAA,KAAA;AAAA,QAAA,SAAAE,QADrB,MAA8C;AAAA,UAA9CC,YAA8C,gCAAxB,EAAA,WAAS,KAAW,YAAA,GAAA,MAAA,GAAA,CAAA,WAAA,CAAA;AAAA,QAAA,CAAA;AAAA;0BAE5CH,YAqBuB,iCAAA,EAAA,KAAA,KAAA;AAAA,QAAA,SAAAE,QApBrB,MAmBM;AAAA,UAnBNE,mBAmBM,OAnBN,YAmBM;AAAA,YAlBO,KAAA,QAAQ,UAAK,OAAxBC,cAAAC,mBAEM,OAFN,YAEMC,gBADD,KAAQ,QAAA,KAAA,KAAK,IAAI,GAAA,CAAA,KAAAC,mBAAA,IAAA,IAAA;AAAA,YAEtBJ,mBAEM,OAFN,YAEMG,gBADD,KAAA,QAAQ,UAAK,IAAI,GAAA,CAAA;AAAA,YAEtBJ,YAWE,oBAAA;AAAA,cAVA,OAAM;AAAA,cACN,MAAK;AAAA,cACL,MAAK;AAAA,cACL,eAAY;AAAA,cACZ,cAAW;AAAA,cACX,UAAS;AAAA,cACT,OAAM;AAAA,cACL,SAAKM,cAAO,KAAU,YAAA,CAAA,MAAA,CAAA;AAAA,cACtB,WAAO;AAAA,gBAAAC,SAAAD,cAAa,KAAU,YAAA,CAAA,MAAA,CAAA,GAAA,CAAA,OAAA,CAAA;AAAA,gBAAAC,SAAAD,cACV,KAAU,YAAA,CAAA,MAAA,CAAA,GAAA,CAAA,OAAA,CAAA;AAAA,cAAA;AAAA;;;;;;;;;;;"}