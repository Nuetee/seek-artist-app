<!DOCTYPE html>
<html lang="">
  <head>
    <meta charset="utf-8">
    <meta name="theme-color" content="#ffffff">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <link rel='icon' href="<%= VUE_APP_BASE_URL %>favicon.ico">
    <title>seek for artist</title>
    <style>
      #redirectToSafari {
        position: fixed;
        top: 50%;
        left: 50%;
        width: 70vw;
        height: 30vh;
        transform: translate(-50%, -50%);
        text-align: center;
      }
      #redirectToSafari > div:nth-child(1) {
        font-weight: bold;
      }
      #redirectToSafari > div:nth-child(2) {
        width: 100%;
        height: 50%;
        display: flex;
        align-items: center;
        justify-content: space-around;
      }
      #redirectToSafari > div:nth-child(2) button {
        flex: 0 0 40%;
        height: 100%;
        border: none;
        outline: 0;
        box-shadow: none;
        background-color: #08088A;
        color: white;
      }
    </style>
  </head>
  <script src="https://sdk.amazonaws.com/js/aws-sdk-2.283.1.min.js"></script>
  <script src="https://developers.kakao.com/sdk/js/kakao.js"></script>

  <script src="//cdnjs.cloudflare.com/ajax/libs/vue/2.5.2/vue.min.js"></script>
  <!-- CDNJS :: Sortable (https://cdnjs.com/) -->
  <script src="//cdn.jsdelivr.net/npm/sortablejs@1.8.4/Sortable.min.js"></script>
  <!-- CDNJS :: Vue.Draggable (https://cdnjs.com/) -->
  <script src="//cdnjs.cloudflare.com/ajax/libs/Vue.Draggable/2.20.0/vuedraggable.umd.min.js"></script>
  <script type='text/javascript'>
    var copytoclipboard = function(val){
      var t = document.createElement("textarea");
      document.body.appendChild(t);
      t.value = val;
      t.select();
      document.execCommand('copy');
      document.body.removeChild(t);
    };
    var inappbrowserout = function(){
      copytoclipboard(window.location.href);
      alert('URL주소가 복사되었습니다.\n\nSafari가 열리면 주소창을 길게 터치한 뒤, "붙여놓기 및 이동"를 누르면 정상적으로 이용하실 수 있습니다.');
		  location.href='x-web-search://?';
    }
    var closeWindow = function () {
      document.getElementById('redirectToSafari').remove()
    }
    window.onload = function(){
      if(navigator.userAgent.match(/inapp|NAVER|KAKAOTALK|Snapchat|Line|WirtschaftsWoche|Thunderbird|Instagram|everytimeApp|WhatsApp|Electron|wadiz|AliApp|zumapp|iPhone(.*)Whale|Android(.*)Whale|kakaostory|band|twitter|DaumApps|DaumDevice\/mobile|FB_IAB|FB4A|FBAN|FBIOS|FBSS\/[^1]/i)){
        document.body.innerHTML = '';
        if(navigator.userAgent.match(/iPhone|iPad/i)){
          //모바일대응뷰포트강제설정
          var mobile = document.createElement('meta');
          mobile.name = 'viewport';
          mobile.content = "width=device-width, initial-scale=1, shrink-to-fit=no, user-scalable=no, minimal-ui";
          document.getElementsByTagName('head')[0].appendChild(mobile);
          //노토산스폰트강제설정
          var fonts = document.createElement('link');
          fonts.href = 'https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100;300;400;500;700;900&display=swap';
          document.getElementById('redirectToSafari').appendChild(fonts);
          document.getElementById('redirectToSafari').style.display = 'block'
        }else{
          document.getElementById('redirectToSafari').remove()
          location.href='intent://'+location.href.replace(/https?:\/\//i,'')+'#Intent;scheme=http;package=com.android.chrome;end';
        }
      }
      else {
        document.getElementById('redirectToSafari').remove()
      }
    }
  </script>
  <body>
    <noscript>
      <strong>We're sorry but <%= htmlWebpackPlugin.options.title %> doesn't work properly without JavaScript enabled. Please enable it to continue.</strong>
    </noscript>
    <div id="redirectToSafari">
      <div>인앱 브라우저 호환문제로 인해 Safari에서의 사용을 권장합니다.</div>
      <div>
        <button onclick="inappbrowserout();">Safari로 이용하기</button>
        <button onclick="closeWindow();">인앱 브라우저로 계속하기</button>
      </div>
    </div>
    <div id="app"></div>
    <!-- built files will be auto injected -->
  </body>
</html>
